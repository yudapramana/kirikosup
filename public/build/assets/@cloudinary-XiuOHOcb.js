import{d as Ue,r as Ne,o as ze,a as Je,b as He,u as ei,c as Ot,e as Ct}from"./@vue-Dapi5KFD.js";var E=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Et={exports:{}};(function(e,t){var r=200,i="__lodash_hash_undefined__",o=9007199254740991,a="[object Arguments]",c="[object Array]",d="[object Boolean]",p="[object Date]",h="[object Error]",g="[object Function]",x="[object GeneratorFunction]",U="[object Map]",Ut="[object Number]",dt="[object Object]",Nt="[object Promise]",zt="[object RegExp]",N="[object Set]",Jt="[object String]",Ht="[object Symbol]",ht="[object WeakMap]",Yt="[object ArrayBuffer]",z="[object DataView]",Kt="[object Float32Array]",Wt="[object Float64Array]",Xt="[object Int8Array]",Zt="[object Int16Array]",te="[object Int32Array]",ee="[object Uint8Array]",re="[object Uint8ClampedArray]",ne="[object Uint16Array]",ie="[object Uint32Array]",$r=/[\\^$.*+?()[\]{}|]/g,Vr=/\w*$/,jr=/^\[object .+?Constructor\]$/,Pr=/^(?:0|[1-9]\d*)$/,_={};_[a]=_[c]=_[Yt]=_[z]=_[d]=_[p]=_[Kt]=_[Wt]=_[Xt]=_[Zt]=_[te]=_[U]=_[Ut]=_[dt]=_[zt]=_[N]=_[Jt]=_[Ht]=_[ee]=_[re]=_[ne]=_[ie]=!0,_[h]=_[g]=_[ht]=!1;var Lr=typeof E=="object"&&E&&E.Object===Object&&E,Rr=typeof self=="object"&&self&&self.Object===Object&&self,S=Lr||Rr||Function("return this")(),se=t&&!t.nodeType&&t,oe=se&&!0&&e&&!e.nodeType&&e,Fr=oe&&oe.exports===se;function kr(n,s){return n.set(s[0],s[1]),n}function Qr(n,s){return n.add(s),n}function Dr(n,s){for(var u=-1,l=n?n.length:0;++u<l&&s(n[u],u,n)!==!1;);return n}function Ir(n,s){for(var u=-1,l=s.length,y=n.length;++u<l;)n[y+u]=s[u];return n}function ae(n,s,u,l){var y=-1,v=n?n.length:0;for(l&&v&&(u=n[++y]);++y<v;)u=s(u,n[y],y,n);return u}function qr(n,s){for(var u=-1,l=Array(n);++u<n;)l[u]=s(u);return l}function Br(n,s){return n==null?void 0:n[s]}function ue(n){var s=!1;if(n!=null&&typeof n.toString!="function")try{s=!!(n+"")}catch{}return s}function ce(n){var s=-1,u=Array(n.size);return n.forEach(function(l,y){u[++s]=[y,l]}),u}function ft(n,s){return function(u){return n(s(u))}}function le(n){var s=-1,u=Array(n.size);return n.forEach(function(l){u[++s]=l}),u}var Gr=Array.prototype,Ur=Function.prototype,J=Object.prototype,pt=S["__core-js_shared__"],de=function(){var n=/[^.]+$/.exec(pt&&pt.keys&&pt.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}(),he=Ur.toString,C=J.hasOwnProperty,H=J.toString,Nr=RegExp("^"+he.call(C).replace($r,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),fe=Fr?S.Buffer:void 0,pe=S.Symbol,ge=S.Uint8Array,zr=ft(Object.getPrototypeOf,Object),Jr=Object.create,Hr=J.propertyIsEnumerable,Yr=Gr.splice,_e=Object.getOwnPropertySymbols,Kr=fe?fe.isBuffer:void 0,Wr=ft(Object.keys,Object),gt=k(S,"DataView"),I=k(S,"Map"),_t=k(S,"Promise"),mt=k(S,"Set"),yt=k(S,"WeakMap"),q=k(Object,"create"),Xr=j(gt),Zr=j(I),tn=j(_t),en=j(mt),rn=j(yt),me=pe?pe.prototype:void 0,ye=me?me.valueOf:void 0;function $(n){var s=-1,u=n?n.length:0;for(this.clear();++s<u;){var l=n[s];this.set(l[0],l[1])}}function nn(){this.__data__=q?q(null):{}}function sn(n){return this.has(n)&&delete this.__data__[n]}function on(n){var s=this.__data__;if(q){var u=s[n];return u===i?void 0:u}return C.call(s,n)?s[n]:void 0}function an(n){var s=this.__data__;return q?s[n]!==void 0:C.call(s,n)}function un(n,s){var u=this.__data__;return u[n]=q&&s===void 0?i:s,this}$.prototype.clear=nn,$.prototype.delete=sn,$.prototype.get=on,$.prototype.has=an,$.prototype.set=un;function O(n){var s=-1,u=n?n.length:0;for(this.clear();++s<u;){var l=n[s];this.set(l[0],l[1])}}function cn(){this.__data__=[]}function ln(n){var s=this.__data__,u=Y(s,n);if(u<0)return!1;var l=s.length-1;return u==l?s.pop():Yr.call(s,u,1),!0}function dn(n){var s=this.__data__,u=Y(s,n);return u<0?void 0:s[u][1]}function hn(n){return Y(this.__data__,n)>-1}function fn(n,s){var u=this.__data__,l=Y(u,n);return l<0?u.push([n,s]):u[l][1]=s,this}O.prototype.clear=cn,O.prototype.delete=ln,O.prototype.get=dn,O.prototype.has=hn,O.prototype.set=fn;function R(n){var s=-1,u=n?n.length:0;for(this.clear();++s<u;){var l=n[s];this.set(l[0],l[1])}}function pn(){this.__data__={hash:new $,map:new(I||O),string:new $}}function gn(n){return K(this,n).delete(n)}function _n(n){return K(this,n).get(n)}function mn(n){return K(this,n).has(n)}function yn(n,s){return K(this,n).set(n,s),this}R.prototype.clear=pn,R.prototype.delete=gn,R.prototype.get=_n,R.prototype.has=mn,R.prototype.set=yn;function F(n){this.__data__=new O(n)}function vn(){this.__data__=new O}function wn(n){return this.__data__.delete(n)}function bn(n){return this.__data__.get(n)}function Tn(n){return this.__data__.has(n)}function An(n,s){var u=this.__data__;if(u instanceof O){var l=u.__data__;if(!I||l.length<r-1)return l.push([n,s]),this;u=this.__data__=new R(l)}return u.set(n,s),this}F.prototype.clear=vn,F.prototype.delete=wn,F.prototype.get=bn,F.prototype.has=Tn,F.prototype.set=An;function Sn(n,s){var u=bt(n)||Hn(n)?qr(n.length,String):[],l=u.length,y=!!l;for(var v in n)(s||C.call(n,v))&&!(y&&(v=="length"||Un(v,l)))&&u.push(v);return u}function ve(n,s,u){var l=n[s];(!(C.call(n,s)&&Ae(l,u))||u===void 0&&!(s in n))&&(n[s]=u)}function Y(n,s){for(var u=n.length;u--;)if(Ae(n[u][0],s))return u;return-1}function On(n,s){return n&&we(s,Tt(s),n)}function vt(n,s,u,l,y,v,b){var w;if(l&&(w=v?l(n,y,v,b):l(n)),w!==void 0)return w;if(!W(n))return n;var Ce=bt(n);if(Ce){if(w=qn(n),!s)return Qn(n,w)}else{var Q=V(n),Ee=Q==g||Q==x;if(Kn(n))return Vn(n,s);if(Q==dt||Q==a||Ee&&!v){if(ue(n))return v?n:{};if(w=Bn(Ee?{}:n),!s)return Dn(n,On(w,n))}else{if(!_[Q])return v?n:{};w=Gn(n,Q,vt,s)}}b||(b=new F);var Me=b.get(n);if(Me)return Me;if(b.set(n,w),!Ce)var xe=u?In(n):Tt(n);return Dr(xe||n,function(At,X){xe&&(X=At,At=n[X]),ve(w,X,vt(At,s,u,l,X,n,b))}),w}function Cn(n){return W(n)?Jr(n):{}}function En(n,s,u){var l=s(n);return bt(n)?l:Ir(l,u(n))}function Mn(n){return H.call(n)}function xn(n){if(!W(n)||zn(n))return!1;var s=Oe(n)||ue(n)?Nr:jr;return s.test(j(n))}function $n(n){if(!Te(n))return Wr(n);var s=[];for(var u in Object(n))C.call(n,u)&&u!="constructor"&&s.push(u);return s}function Vn(n,s){if(s)return n.slice();var u=new n.constructor(n.length);return n.copy(u),u}function wt(n){var s=new n.constructor(n.byteLength);return new ge(s).set(new ge(n)),s}function jn(n,s){var u=s?wt(n.buffer):n.buffer;return new n.constructor(u,n.byteOffset,n.byteLength)}function Pn(n,s,u){var l=s?u(ce(n),!0):ce(n);return ae(l,kr,new n.constructor)}function Ln(n){var s=new n.constructor(n.source,Vr.exec(n));return s.lastIndex=n.lastIndex,s}function Rn(n,s,u){var l=s?u(le(n),!0):le(n);return ae(l,Qr,new n.constructor)}function Fn(n){return ye?Object(ye.call(n)):{}}function kn(n,s){var u=s?wt(n.buffer):n.buffer;return new n.constructor(u,n.byteOffset,n.length)}function Qn(n,s){var u=-1,l=n.length;for(s||(s=Array(l));++u<l;)s[u]=n[u];return s}function we(n,s,u,l){u||(u={});for(var y=-1,v=s.length;++y<v;){var b=s[y],w=l?l(u[b],n[b],b,u,n):void 0;ve(u,b,w===void 0?n[b]:w)}return u}function Dn(n,s){return we(n,be(n),s)}function In(n){return En(n,Tt,be)}function K(n,s){var u=n.__data__;return Nn(s)?u[typeof s=="string"?"string":"hash"]:u.map}function k(n,s){var u=Br(n,s);return xn(u)?u:void 0}var be=_e?ft(_e,Object):Zn,V=Mn;(gt&&V(new gt(new ArrayBuffer(1)))!=z||I&&V(new I)!=U||_t&&V(_t.resolve())!=Nt||mt&&V(new mt)!=N||yt&&V(new yt)!=ht)&&(V=function(n){var s=H.call(n),u=s==dt?n.constructor:void 0,l=u?j(u):void 0;if(l)switch(l){case Xr:return z;case Zr:return U;case tn:return Nt;case en:return N;case rn:return ht}return s});function qn(n){var s=n.length,u=n.constructor(s);return s&&typeof n[0]=="string"&&C.call(n,"index")&&(u.index=n.index,u.input=n.input),u}function Bn(n){return typeof n.constructor=="function"&&!Te(n)?Cn(zr(n)):{}}function Gn(n,s,u,l){var y=n.constructor;switch(s){case Yt:return wt(n);case d:case p:return new y(+n);case z:return jn(n,l);case Kt:case Wt:case Xt:case Zt:case te:case ee:case re:case ne:case ie:return kn(n,l);case U:return Pn(n,l,u);case Ut:case Jt:return new y(n);case zt:return Ln(n);case N:return Rn(n,l,u);case Ht:return Fn(n)}}function Un(n,s){return s=s??o,!!s&&(typeof n=="number"||Pr.test(n))&&n>-1&&n%1==0&&n<s}function Nn(n){var s=typeof n;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?n!=="__proto__":n===null}function zn(n){return!!de&&de in n}function Te(n){var s=n&&n.constructor,u=typeof s=="function"&&s.prototype||J;return n===u}function j(n){if(n!=null){try{return he.call(n)}catch{}try{return n+""}catch{}}return""}function Jn(n){return vt(n,!0,!0)}function Ae(n,s){return n===s||n!==n&&s!==s}function Hn(n){return Yn(n)&&C.call(n,"callee")&&(!Hr.call(n,"callee")||H.call(n)==a)}var bt=Array.isArray;function Se(n){return n!=null&&Wn(n.length)&&!Oe(n)}function Yn(n){return Xn(n)&&Se(n)}var Kn=Kr||ti;function Oe(n){var s=W(n)?H.call(n):"";return s==g||s==x}function Wn(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=o}function W(n){var s=typeof n;return!!n&&(s=="object"||s=="function")}function Xn(n){return!!n&&typeof n=="object"}function Tt(n){return Se(n)?Sn(n):$n(n)}function Zn(){return[]}function ti(){return!1}e.exports=Jn})(Et,Et.exports);var D=Et.exports,Mt=function(){return Mt=Object.assign||function(t){for(var r,i=1,o=arguments.length;i<o;i++){r=arguments[i];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Mt.apply(this,arguments)};function ri(e,t,r,i){function o(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function d(g){try{h(i.next(g))}catch(x){c(x)}}function p(g){try{h(i.throw(g))}catch(x){c(x)}}function h(g){g.done?a(g.value):o(g.value).then(d,p)}h((i=i.apply(e,t||[])).next())})}function ni(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,o,a,c;return c={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function d(h){return function(g){return p([h,g])}}function p(h){if(i)throw new TypeError("Generator is already executing.");for(;c&&(c=0,h[0]&&(r=0)),r;)try{if(i=1,o&&(a=h[0]&2?o.return:h[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,h[1])).done)return a;switch(o=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,o=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){r.label=h[1];break}if(h[0]===6&&r.label<a[1]){r.label=a[1],a=h;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(h);break}a[2]&&r.ops.pop(),r.trys.pop();continue}h=t.call(e,r)}catch(g){h=[6,g],o=0}finally{i=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function Z(e,t,r,i,o){return ri(this,void 0,void 0,function(){var a,c;return ni(this,function(d){switch(d.label){case 0:if(r===void 0)return[2];c=0,d.label=1;case 1:return c<r.length?[4,r[c](e,t,i,o,r)]:[3,4];case 2:if(a=d.sent(),a==="canceled")return[3,4];d.label=3;case 3:return c++,[3,1];case 4:return a!=="canceled"?[2,a]:[2]}})})}var $e=function(e,t){return t===void 0&&(t={}),e?{trackedAnalytics:Mt({sdkCode:e.sdkCode,sdkSemver:e.sdkSemver,techVersion:e.techVersion},t)}:null},ii=function(){function e(t,r,i,o){var a=this;this.isMounted=!0,this.imgElement=t,this.htmlPluginState={cleanupCallbacks:[],pluginEventSubscription:[]};var c=D(r);Z(t,c,i,this.htmlPluginState,o).then(function(d){if(a.isMounted){a.htmlPluginState.pluginEventSubscription.forEach(function(h){h()});var p=$e(o,d);a.imgElement.setAttribute("src",c.toURL(p))}})}return e.prototype.update=function(t,r,i){var o=this,a=D(t);Z(this.imgElement,a,r,this.htmlPluginState).then(function(c){if(o.isMounted){var d=$e(i,c);o.imgElement.setAttribute("src",a.toURL(d))}})},e.prototype.unmount=function(){this.isMounted=!1},e}();let m=class{constructor(t){this.values=[],this.delimiter=":",this.hasValue(t)&&this.addValue(t)}toString(){return this.values.join(this.delimiter)}hasValue(t){return typeof t<"u"&&t!==null&&t!==""}addValue(t){return Array.isArray(t)?this.values=this.values.concat(t):this.values.push(t),this.values=this.values.filter(r=>this.hasValue(r)),this}setDelimiter(t){return this.delimiter=t,this}},si=class extends Error{constructor(t="Unsupported"){super(t)}};function $t(e){return new si(e)}function oi(){return this._qualifierModel||{error:$t(`unsupported qualifier ${this.constructor.name}`)}}let ai=class{constructor(){this._qualifierModel={}}toJson(){return oi.apply(this)}},f=class extends ai{constructor(t,r){super(),this.delimiter="_",this.key=t,r instanceof m?this.qualifierValue=r:(this.qualifierValue=new m,this.qualifierValue.addValue(r))}toString(){const{key:t,delimiter:r,qualifierValue:i}=this;return`${t}${r}${i.toString()}`}addValue(t){return this.qualifierValue.addValue(t),this}},T=class extends f{constructor(t,r){let i;r?i=new m([t,`${r}`]).setDelimiter(":"):i=t,super("fl",i),this.flagValue=r}toString(){return super.toString().replace(/\./,"%2E")}getFlagValue(){return this.flagValue}};function ui(e,t){const r=Array.from(e.entries());return t.forEach(i=>{r.push(["fl",i])}),r.sort().map(i=>i[1])}function ci(){var e,t,r;const i=this._actionModel&&Object.keys(this._actionModel).length,o=(r=(t=(e=this._actionModel)===null||e===void 0?void 0:e.source)===null||t===void 0?void 0:t.transformation)===null||r===void 0?void 0:r.error;return o&&o instanceof Error?{error:o}:i?this._actionModel:{error:$t(`unsupported action ${this.constructor.name}`)}}let li=class{constructor(){this._actionModel={}}toJson(){return ci.apply(this)}},A=class extends li{constructor(){super(...arguments),this.qualifiers=new Map,this.flags=[],this.delimiter=",",this.actionTag=""}prepareQualifiers(){}getActionTag(){return this.actionTag}setActionTag(t){return this.actionTag=t,this}toString(){return this.prepareQualifiers(),ui(this.qualifiers,this.flags).join(this.delimiter)}addQualifier(t){if(typeof t=="string"){const[r,i]=t.toLowerCase().split("_");r==="fl"?this.flags.push(new T(i)):this.qualifiers.set(r,new f(r,i))}else this.qualifiers.set(t.key,t);return this}addFlag(t){return typeof t=="string"?this.flags.push(new T(t)):t instanceof T&&this.flags.push(t),this}addValueToQualifier(t,r){return this.qualifiers.get(t).addValue(r),this}};class Vt extends A{constructor(t){super(),this.regionType=t,this._actionModel.regionType=t}}class nt extends Vt{constructor(){super("custom")}x(t){return this._actionModel.x=t,this.addQualifier(new f("x",t)),this}y(t){return this._actionModel.y=t,this.addQualifier(new f("y",t)),this}width(t){return this._actionModel.width=t,this.addQualifier(new f("w",t)),this}height(t){return this._actionModel.height=t,this.addQualifier(new f("h",t)),this}static fromJson(t){const r=new nt;return t.width&&r.width(t.width),t.height&&r.height(t.height),t.x&&r.x(t.x),t.y&&r.y(t.y),r}}function di(){return new nt}function Ye(){return new Vt("faces")}function hi(){return new Vt("ocr_text")}class fi extends A{constructor(t){super(),this._actionModel={},this._strength=t,this._actionModel.actionType="blur",this._actionModel.strength=t}region(t){return this._region=t,this._actionModel.region=t.toJson(),this}strength(t){return this._strength=t,this._actionModel.strength=t,this}prepareQualifiers(){const t=this._strength?`:${this._strength}`:"";"_region"in this?(this._region.qualifiers.forEach(i=>this.addQualifier(i)),this._region.regionType==="custom"&&this.addQualifier(new f("e",`blur_region${t}`)),this._region.regionType==="ocr_text"&&(this.addQualifier(new f("e",`blur_region${t}`)),this.addQualifier(new f("g","ocr_text"))),this._region.regionType==="faces"&&this.addQualifier(new f("e",`blur_faces${t}`))):this.addQualifier(new f("e",`blur${t}`))}static fromJson(t){const{strength:r,region:i}=t,o=new this(r);return r&&o.strength(r),i&&i.regionType==="faces"&&o.region(Ye()),i&&i.regionType==="ocr_text"&&o.region(hi()),i&&i.regionType==="custom"&&o.region(nt.fromJson(i)),o}}function P(e){const t={};return Object.keys(e).forEach(r=>{t[e[r]]=r}),t}const Ke={limitFit:"limit",limitFill:"lfill",minimumFit:"mfit",thumbnail:"thumb",limitPad:"lpad",minimumPad:"mpad"},pi={colorSpace:"cs",dpr:"dpr",density:"dn",defaultImage:"d",format:"f",quality:"q"},We={redEye:"redeye",advancedRedEye:"adv_redeye",oilPaint:"oil_paint",unsharpMask:"unsharp_mask",makeTransparent:"make_transparent",generativeRestore:"gen_restore",upscale:"upscale"},Xe={autoBest:"auto:best",autoEco:"auto:eco",autoGood:"auto:good",autoLow:"auto:low",jpegminiHigh:"jpegmini:1",jpegminiMedium:"jpegmini:2",jpegminiBest:"jpegmini:0"},gi={fullHd:"full_hd",fullHdWifi:"full_hd_wifi",fullHdLean:"full_hd_lean",hdLean:"hd_lean"},Ze={444:"CHROMA_444",420:"CHROMA_420"},_i={noCmyk:"no_cmyk",keepCmyk:"keep_cmyk",tinySrgb:"tinysrgb",srgbTrueColor:"srgb:truecolor"},mi=P(Ze);P(_i);const yi=P(Ke),vi=P(pi),tr=P(We);P(Xe);P(gi);class er extends A{constructor(t,r){super(),this._actionModel={},this._actionModel.actionType=tr[t]||t;const i=this.createEffectQualifier(t,r);this.addQualifier(i)}createEffectQualifier(t,r){let i;return r?i=new m([t,`${r}`]).setDelimiter(":"):i=new m(t),new f("e",i)}static fromJson(t){const{actionType:r,level:i,strength:o}=t,a=We[r]||r;return new this(a,i||o)}}class wi extends er{constructor(t,r){super(t,r),this.LEVEL_NAME="level",this._actionModel={},this.effectType=t,this._actionModel.actionType=tr[t]||t,r&&this.setLevel(r)}setLevel(t){this._actionModel[this.LEVEL_NAME]=t;const r=this.createEffectQualifier(this.effectType,t);return this.addQualifier(r),this}}function it(e){return e&&(e.match(/^#/)?`rgb:${e.substr(1)}`:e)}class bi extends A{constructor(){super(),this._actionModel={},this._actionModel.actionType="vectorize"}numOfColors(t){return this._actionModel.numOfColors=t,this._numOfColors=t,this}detailsLevel(t){return this._actionModel.detailLevel=t,this._detailsLevel=t,this}despeckleLevel(t){return this._actionModel.despeckleLevel=t,this._despeckleLevel=t,this}cornersLevel(t){return this._actionModel.cornersLevel=t,this._cornersLevel=t,this}paths(t){return this._actionModel.paths=t,this._paths=t,this}prepareQualifiers(){let t="vectorize";this._numOfColors&&(t+=`:${new m(`colors:${this._numOfColors}`).toString()}`),this._detailsLevel&&(t+=`:${new m(`detail:${this._detailsLevel}`).toString()}`),this._despeckleLevel&&(t+=`:${new m(`despeckle:${this._despeckleLevel}`).toString()}`),this._paths&&(t+=`:${new m(`paths:${this._paths}`).toString()}`),this._cornersLevel&&(t+=`:${new m(`corners:${this._cornersLevel}`).toString()}`),this.addQualifier(new f("e",t))}static fromJson(t){const{actionType:r,paths:i,cornersLevel:o,despeckleLevel:a,detailLevel:c,numOfColors:d}=t,p=new this;return i&&p.paths(i),o&&p.cornersLevel(o),a&&p.despeckleLevel(a),c&&p.detailsLevel(c),d&&p.numOfColors(d),p}}class Ti extends wi{level(t){return this._actionModel.level=t,this.setLevel(t)}}class Ai extends A{constructor(){super(),this._actionModel={},this._actionModel.actionType="assistColorblind",this.addQualifier(new f("e",new m("assist_colorblind")))}xray(){return this._actionModel.type="xray",this.addQualifier(new f("e",new m(["assist_colorblind","xray"]).setDelimiter(":")))}stripesStrength(t){return this._actionModel.type="stripes",this._actionModel.stripesStrength=t,this.addQualifier(new f("e",new m(["assist_colorblind",t]).setDelimiter(":")))}static fromJson(t){const{actionType:r,type:i,stripesStrength:o}=t,a=new this;return i==="xray"&&a.xray(),i==="stripes"&&o&&a.stripesStrength(o),a}}class Si extends Ti{color(t){return this._actionModel.color=t,this.addQualifier(new f("co",new m(it(t))))}static fromJson(t){const{actionType:r,level:i,color:o}=t,a=new this(r,i);return o&&a.color(o),a}}class Oi extends A{constructor(t){super(),this._actionModel={},this._squareSize=t,this._actionModel.actionType="pixelate",this._actionModel.squareSize=t}region(t){return this._region=t,this._actionModel.region={regionType:this._region.regionType},this}squareSize(t){return this._squareSize=t,this._actionModel.squareSize=t,this}prepareQualifiers(){const t=this._squareSize?`:${this._squareSize}`:"";"_region"in this?(this._region.qualifiers.forEach(i=>this.addQualifier(i)),this._region.regionType==="custom"&&this.addQualifier(new f("e",`pixelate_region${t}`)),this._region.regionType==="ocr_text"&&(this.addQualifier(new f("e",`pixelate_region${t}`)),this.addQualifier(new f("g","ocr_text"))),this._region.regionType==="faces"&&this.addQualifier(new f("e",`pixelate_faces${t}`))):this.addQualifier(new f("e",`pixelate${t}`))}static fromJson(t){const{region:r,squareSize:i}=t,o=new this(i);return i&&o.squareSize(i),r&&r.regionType==="faces"&&o.region(Ye()),r&&r.regionType==="custom"&&o.region(di()),o}}function Ci(e){return new fi(e)}function Ei(){return new er("grayscale")}function Ve(e){return new Si("colorize",e)}function Mi(){return new bi}function xi(){return new Ai}function $i(e){return new Oi(e)}let Vi=class extends A{constructor(t){super(),this.addQualifier(new f("b",new m(t).setDelimiter("_")))}},je=class{constructor(t){this.raw=t}toString(){return this.raw}toJson(){return{error:$t(`unsupported action ${this.constructor.name}`)}}};function ji(e){const t=e;return"error"in t&&!!t.error}function Pi(){return new T("ignore_aspect_ratio")}function Li(){return new T("lossy")}function Ri(){return new T("preserve_transparency")}function Fi(e){return new T("progressive",e)}function ki(){return new T("region_relative")}function Qi(){return new T("relative")}let jt=class extends m{constructor(t){super(t),this.val=t}getValue(){return this.val}},rr=class extends A{constructor(t,r,i){super(),this._actionModel={};let o;r instanceof jt?o=r.getValue():o=r,this._actionModel.actionType=vi[t],this._actionModel[i]=o,this.addQualifier(new f(t,r))}},Di=class extends T{constructor(t){super("progressive",t)}},xt=class extends rr{constructor(t,r){super(t,r,"formatType")}lossy(){return this._actionModel.lossy=!0,this.addFlag(Li()),this}progressive(t){return t instanceof Di?(this._actionModel.progressive={mode:t.getFlagValue()},this.addFlag(t)):(this._actionModel.progressive={mode:t},this.addFlag(Fi(t))),this}preserveTransparency(){return this._actionModel.preserveTransparency=!0,this.addFlag(Ri()),this}static fromJson(t){const{formatType:r,lossy:i,progressive:o,preserveTransparency:a}=t;let c;return r?c=new this("f",r):c=new this("f"),o&&(o.mode?c.progressive(o.mode):c.progressive()),i&&c.lossy(),a&&c.preserveTransparency(),c}},st=class nr{constructor(){this.actions=[]}addAction(t){let r;if(typeof t=="string"){if(t.indexOf("/")>=0)throw"addAction cannot accept a string with a forward slash in it - /, use .addTransformation() instead";r=new je(t)}else r=t;return this.actions.push(r),this}addTransformation(t){return t instanceof nr?this.actions=this.actions.concat(t.actions):this.actions.push(new je(t)),this}toString(){return this.actions.map(t=>t.toString()).filter(t=>t).join("/")}animated(t){return this.addAction(t)}border(t){return this.addAction(t)}reshape(t){return this.addAction(t)}resize(t){return this.addAction(t)}quality(t){return this.addAction(new xt("q",t)),this}format(t){return this.addAction(new xt("f",t)),this}roundCorners(t){return this.addAction(t)}overlay(t){return this.addAction(t)}underlay(t){return t.setLayerType("u"),this.addAction(t)}addVariable(t){return this.addAction(t)}conditional(t){return this.addAction(t)}effect(t){return this.addAction(t)}adjust(t){return this.addAction(t)}rotate(t){return this.addAction(t)}namedTransformation(t){return this.addAction(t)}delivery(t){return this.addAction(t)}backgroundColor(t){return this.addAction(new Vi(it(t)))}psdTools(t){return this.addAction(t)}extract(t){return this.addAction(t)}addFlag(t){const r=new A;let i=t;return typeof t=="string"&&(i=new T(t)),r.addQualifier(i),this.addAction(r)}customFunction(t){return this.addAction(t)}transcode(t){return this.addAction(t)}videoEdit(t){return this.addAction(t)}toJson(){const t=[];for(const r of this.actions){const i=r.toJson();if(ji(i))return i;t.push(i)}return{actions:t}}};function Pe(e){const t=e.toString();return t.match(/[A-Z]/gi)||t.length>1&&t[0]==="0"?t:!isNaN(parseFloat(t))&&t.indexOf(":")===-1&&t.indexOf(".")===-1?`${t}.0`:t}class Ii extends m{}class qi extends A{constructor(t,r,i){super(),this._actionModel={dimensions:{}},this._actionModel.actionType=yi[t]||t,this.addQualifier(new f("c",t)),r&&this.width(r),i&&this.height(i)}height(t){return this._actionModel.dimensions.height=t,this.addQualifier(new f("h",t))}width(t){return this._actionModel.dimensions.width=t,this.addQualifier(new f("w",t))}aspectRatio(t){if(t instanceof Ii)return this._actionModel.dimensions.aspectRatio=`${t}`,this.addQualifier(new f("ar",t));if(typeof t=="number"||typeof t=="string")return this._actionModel.dimensions.aspectRatio=Pe(t),this.addQualifier(new f("ar",Pe(t)));if(t instanceof T)return this._actionModel.dimensions.aspectRatio=`${t.qualifierValue}`,this.addFlag(t)}relative(){return this._actionModel.relative=!0,this.addFlag(Qi())}regionRelative(){return this._actionModel.regionRelative=!0,this.addFlag(ki())}static fromJson(t){const{actionType:r,dimensions:i,relative:o,regionRelative:a}=t,{aspectRatio:c,width:d,height:p}=i,h=Ke[r]||r,g=new this(h,d,p);return c&&g.aspectRatio(c==="ignore_aspect_ratio"?Pi():c),o&&g.relative(),a&&g.regionRelative(),g}}class Pt extends f{constructor(t){super("g",new m(t))}}class ir extends Pt{constructor(){super("auto")}autoFocus(...t){return this.addValue(t),this}}class sr extends Pt{constructor(t){super(t)}fallbackGravity(t){return this.addValue(t.qualifierValue),this}}class or extends Pt{constructor(t){super(t)}}function Bi(e){return new or(e)}function ar(...e){const t=[...e];return new sr(t)}function ur(){return new ir}class ot extends m{constructor(t){super(),this.name=t}toString(){return this.name}}function Gi(){return new ot("ocr_text")}function Ui(e){return e&&`${e}`.split(":")[0]==="auto"}function Ni(e){const t=Lt(e);return["north","center","east","west","south","north_west","south_east","south_west","north_east"].includes(t)}function Lt(e){return`${e}`.replace("g_","")}function zi(e){return{compass:Lt(e),gravityType:"direction"}}function Ji(e){return Lt(e)==="ocr_text"}function Hi(){return{gravityType:"ocr"}}function Yi(e){return`${e.qualifierValue}`.split(":")[0]==="auto"}function Ki(e){const r=e.toString().split("_"),i={object:r[0]};return r.length>1&&(r[1]==="avoid"?i.avoid=!0:i.weight=+r[1]),i}function cr(e){let t;const r=e==="auto"?new ir:e;return`${e}`.startsWith("auto:")?t=`${e}`.split(":").filter(o=>o!=="auto"):t=r.qualifierValue.values.filter(o=>o!=="auto"),{gravityType:"auto",autoFocus:t.map(Ki)}}function Wi(e){const t=`${e}`.split(":").includes("auto"),r=e.qualifierValue.values,o={gravityType:"object",focusOnObjects:(t?r.slice(0,r.length-1):r).map(a=>`${a}`)};if(t){const a=r[r.length-1].values.slice(1),c=ur().autoFocus(...a);o.fallbackGravity=cr(c)}return o}function Xi(e){const r=e.split(":").map(i=>new ot(i));return new sr(r)}function Zi(e){return Ni(e)?zi(e):Ji(e)?Hi():Ui(e)||Yi(e)?cr(e):Wi(typeof e=="string"?Xi(e):e)}class Rt extends m{constructor(t,r){super(),this._weight=r,this.focusOn=t,this.shouldAvoid=!1}static focusOn(t,r){return new Rt(t,r)}shouldAddWeight(){return typeof this._weight=="number"||typeof this._weight=="string"||this.shouldAvoid}getName(){return this.focusOn.name}getWeight(){return this.shouldAvoid?"avoid":this._weight}toString(){return this.shouldAddWeight()?`${this.getName()}_${this.getWeight()}`:`${this.getName()}`}weight(t){return this._weight=t,this}avoid(){return this.shouldAvoid=!0,this}}class lr extends m{constructor(t){super(),this.val=t}toString(){return this.val}}function ts(e){return e.gravityType==="direction"}function es(e){return e.gravityType==="ocr"}function rs(e){return e.gravityType==="auto"}function ns(e){const{object:t,weight:r,avoid:i}=e,o=new Rt(new ot(t));return(r||r===0)&&o.weight(r),i&&o.avoid(),o}function dr(e){const r=(e.autoFocus||[]).map(ns);return ur().autoFocus(...r)}function is(e){const t=(e.focusOnObjects||[]).map(i=>new ot(i)),r=ar(...t);if(e.fallbackGravity){const i=dr(e.fallbackGravity);r.fallbackGravity(i)}return r}function ss(e){return ts(e)?new or(new lr(e.compass)):es(e)?ar(Gi()):rs(e)?dr(e):is(e)}class Ft extends qi{gravity(t){this._actionModel.gravity=Zi(t);const r=typeof t=="string"?new f("g",t):t;return this.addQualifier(r)}static fromJson(t){const r=super.fromJson.apply(this,[t]);return t.gravity&&r.gravity(ss(t.gravity)),r}}class G extends f{constructor(t){super("b"),t&&this.addValue(t)}}class os extends G{intensity(t){return this.intensityLevel=t,this}brightness(t){return this.brightnessLevel=t,this}toString(){return`
    b_blurred
    ${this.intensityLevel?`:${this.intensityLevel}`:""}
    ${this.brightnessLevel?`:${this.brightnessLevel}`:""}
    `.replace(/\s+/g,"")}}var hr=os;class kt extends G{constructor(){super(),this._palette=[]}contrast(){return this._contrast=!0,this}palette(...t){return this._palette=t.map(r=>it(r)),this}}class fr extends kt{toString(){return`
    b_auto:border
    ${this._contrast?"_contrast":""}
    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}
    `.replace(/\s+/g,"")}}class pr extends kt{gradientColors(t){return this._gradientColors=t,this}gradientDirection(t){return this._gradientDirection=t,this}}class gr extends pr{toString(){return`
    b_auto:border_gradient
    ${this._contrast?"_contrast":""}
    ${this._gradientColors?`:${this._gradientColors}`:""}
    ${this._gradientDirection?`:${this._gradientDirection}`:""}
    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}
    `.replace(/\s+/g,"")}}class _r extends pr{toString(){return`
    b_auto:predominant_gradient
    ${this._contrast?"_contrast":""}
    ${this._gradientColors?`:${this._gradientColors}`:""}
    ${this._gradientDirection?`:${this._gradientDirection}`:""}
    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}
    `.replace(/\s+/g,"")}}class mr extends kt{toString(){return`
    b_auto:predominant
    ${this._contrast?"_contrast":""}
    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}
    `.replace(/\s+/g,"")}}class yr extends G{constructor(){super("gen_fill"),this._backgroundType="generativeFill"}prompt(t){return this._prompt=t,this}getPrompt(){return this._prompt}getBackgroundType(){return this._backgroundType}toString(){return`b_gen_fill${this._prompt?`:prompt_${this._prompt}`:""}`}}function vr(e){return`${e}`.replace("b_","")}function as(){return{backgroundType:"auto"}}function us(e){const{intensityLevel:t,brightnessLevel:r}=e,i={backgroundType:"blurred"};return(t||t===0)&&(i.intensity=t),(r||r===0)&&(i.brightness=r),i}function Qt(e){const t=e._contrast,r=e._palette,i={backgroundType:""};return t&&(i.contrast=!0),r&&(i.palette=r),i}function cs(e){return Object.assign(Object.assign({},Qt(e)),{backgroundType:"border"})}function wr(e){const t=e._gradientColors,r=`${e._gradientDirection}`,i=Qt(e);return t&&(i.gradientColors=t),r&&(i.gradientDirection=r),i}function ls(e){return Object.assign(Object.assign({},wr(e)),{backgroundType:"borderGradient"})}function ds(e){return{backgroundType:"color",color:vr(e)}}function hs(e){return Object.assign(Object.assign({},Qt(e)),{backgroundType:"predominant"})}function fs(e){return Object.assign(Object.assign({},wr(e)),{backgroundType:"predominantGradient"})}function ps(e){return Object.assign({backgroundType:e.getBackgroundType()},e.getPrompt()?{prompt:e.getPrompt()}:{})}function gs(e){return vr(e)==="auto"?as():e instanceof hr?us(e):e instanceof fr?cs(e):e instanceof gr?ls(e):e instanceof mr?hs(e):e instanceof _r?fs(e):e instanceof yr?ps(e):ds(e)}function _s(){return new jt("svg")}function Dt(){return new jt("auto")}function br(){return new fr}function Tr(){return new G("auto")}function Ar(){return new gr}function Sr(){return new _r}function Or(){return new mr}function Cr(e){return new G(it(e))}function ms(){return new hr}function Er(){return new yr}const Mr={auto:Tr,border:br,borderGradient:Ar,predominantGradient:Sr,predominant:Or,color:Cr,blurred:ms,generativeFill:Er};function ys(e){const{brightness:t,intensity:r}=e,i=Mr.blurred();return(t||t==0)&&i.brightness(t),(r||r==0)&&i.intensity(r),i}function Le(e,t){const{gradientColors:r,gradientDirection:i,contrast:o,palette:a}=t;return o&&e.contrast(),a&&e.palette(...a),r&&e.gradientColors(+r),i&&e.gradientDirection(i),e}function Re(e,t){const{contrast:r,palette:i}=t;return r&&e.contrast(),i&&e.palette(...i),e}function vs(e,t){const{prompt:r}=t;return r&&e.prompt(r),e}function ws(e){const{backgroundType:t}=e;switch(t){case"auto":return Tr();case"blurred":return ys(e);case"border":return Re(br(),e);case"borderGradient":return Le(Ar(),e);case"predominant":return Re(Or(),e);case"predominantGradient":return Le(Sr(),e);case"generativeFill":return vs(Er(),e);default:return Cr(e.color)}}class bs extends Ft{background(t){return this._actionModel.background=gs(t),this.addQualifier(t)}offsetX(t){return this._actionModel.x=t,this.addQualifier(new f("x",t))}offsetY(t){return this._actionModel.y=t,this.addQualifier(new f("y",t))}static fromJson(t){const r=super.fromJson.apply(this,[t]);return t.background&&r.background(ws(t.background)),t.x&&r.offsetX(t.x),t.y&&r.offsetY(t.y),t.zoom&&r.zoom(t.zoom),r}}class Ts extends Ft{x(t){return this._actionModel.x=t,this.addQualifier(new f("x",t))}y(t){return this._actionModel.y=t,this.addQualifier(new f("y",t))}zoom(t){return this._actionModel.zoom=t,this.addQualifier(new f("z",t))}static fromJson(t){const r=super.fromJson.apply(this,[t]);return t.x&&r.x(t.x),t.y&&r.y(t.y),t.zoom&&r.zoom(t.zoom),r}}class As extends Ft{x(t){return this._actionModel.x=t,this.addQualifier(new f("x",t))}y(t){return this._actionModel.y=t,this.addQualifier(new f("y",t))}static fromJson(t){const r=super.fromJson.apply(this,[t]);return t.x&&r.x(t.x),t.y&&r.y(t.y),r}}function Ss(e,t){return new Ts("crop",e,t)}function Os(e,t){return new As("fill",e,t)}function Cs(e,t){return new bs("pad",e,t)}class Es extends rr{constructor(t){super("q",t.toString(),"level")}chromaSubSampling(t){this._actionModel.chromaSubSampling=Ze[t];const r=new m([this._actionModel.level,t]);return r.setDelimiter(":"),this.addQualifier(new f("q",r))}quantization(t){this._actionModel.quantization=t;const r=new m([this._actionModel.level,`qmax_${t}`]).setDelimiter(":");return this.addQualifier(new f("q",r))}static fromJson(t){const{level:r,chromaSubSampling:i,quantization:o}=t,a=Xe[r]||r,c=new this(a);if(i){const d=mi[i.toUpperCase()];d&&c.chromaSubSampling(+d)}return o&&c.quantization(o),c}}function at(e){return new xt("f",e)}function ut(e){return new Es(e)}function Ms(){return new lr("north_east")}Ve(70).color("black"),Ve(40).color("white"),Ei(),xi();new st().effect(Mi()).delivery(ut("auto")).delivery(at(_s()));new st().effect($i()).delivery(ut("auto")).delivery(at(Dt()));new st().effect(Ci(2e3)).delivery(ut("auto")).delivery(at(Dt()));new st().resize(Cs("iw_div_2").aspectRatio(1).background(Mr.auto())).resize(Ss(1,1).gravity(Bi(Ms()))).resize(Os().height("ih").width("iw")).delivery(ut("auto")).delivery(at(Dt()));var Fe={flv:"x-flv","3gp":"3gpp",mov:"quicktime",mpg:"mpeg",avi:"x-msvideo",wmv:"x-ms-wmv",ogv:"ogg",webm:"webm",mp4:"mp4"},ke="?_a=",xs=function(){function e(t,r,i,o,a,c){var d=this;this.mimeType="video",this.mimeSubTypes=Fe,this.videoElement=t,this.originalVideo=r,this.htmlPluginState={cleanupCallbacks:[],pluginEventSubscription:[]};var p=D(r);Z(t,r,o,this.htmlPluginState).then(function(){d.htmlPluginState.pluginEventSubscription.forEach(function(h){h()}),d.setVideoAttributes(a,c),d.handleSourceToVideo(p,i)})}return e.prototype.handleSourceToVideo=function(t,r){var i=this;if(r)this.generateUserSources(t,r);else{var o=["webm","mp4","ogv"];o.forEach(function(a){i.appendSourceTag(t,a)})}},e.prototype.generateUserSources=function(t,r){var i=this;r.map(function(o){var a=o.type,c=o.codecs,d=o.transcode;return i.appendSourceTag(D(t).transcode(d),a,i.buildMimeType(a,c))})},e.prototype.appendSourceTag=function(t,r,i){var o=document.createElement("source"),a=t.toURL(),c=a.split(ke),d=c[1]?"".concat(ke).concat(c[1]):"";o.src="".concat(c[0],".").concat(r).concat(d),o.type=i||"video/".concat(Fe[r]||r),this.videoElement.appendChild(o)},e.prototype.buildMimeType=function(t,r){var i="".concat(this.mimeType,"/").concat(this.mimeSubTypes[t]||t);return r&&(i+="; codecs="+(Array.isArray(r)?r.join(", "):r)),i},e.prototype.setVideoAttributes=function(t,r){var i;if(t===void 0&&(t={}),r==="auto"){var o=D(this.originalVideo);t.poster=o.quality("auto").format("jpg").addTransformation("so_auto").toURL()}else r&&(t.poster=(i=r.toURL)===null||i===void 0?void 0:i.call(r));for(var a=0,c=Object.entries(t);a<c.length;a++){var d=c[a],p=d[0],h=d[1];h&&this.videoElement.setAttribute(p,p==="poster"?h:"")}},e.prototype.update=function(t,r,i,o,a){var c=this;if(t!==this.originalVideo){for(var d=this.videoElement.getElementsByTagName("SOURCE");d[0];)d[0].parentNode.removeChild(d[0]);Z(this.videoElement,t,i,this.htmlPluginState).then(function(){c.setVideoAttributes(o,a),c.handleSourceToVideo(t,r),c.videoElement.load()})}},e}(),$s=typeof E=="object"&&E&&E.Object===Object&&E,Vs=typeof self=="object"&&self&&self.Object===Object&&self;$s||Vs||Function("return this")();function js(){return typeof window<"u"}function Ps(e,t,r){var i=D(t);if(e)for(var o=0;o<e.length;o++){var a=e[o](null,i);if(!a)break}return i.toURL(r?{trackedAnalytics:r}:null)}function tt(e){e.cleanupCallbacks.forEach(function(t){t()})}const St={sdkSemver:"1.12.0",techVersion:"3.2.37",sdkCode:"L"},Ls=["src"];var Rs=Ue({__name:"AdvancedImage",props:{cldImg:{type:null,required:!0},plugins:{type:null,required:!1}},setup(e){const t=e,r=Ne(null);let i;const o=()=>Ps(t.plugins,t.cldImg,St);return ze(()=>{i=new ii(r.value,t.cldImg,t.plugins,St)}),Je(()=>{tt(i.htmlPluginState),i.update(t.cldImg,t.plugins,St)}),He(()=>{tt(i.htmlPluginState)}),(a,c)=>ei(js)()?(Ot(),Ct("img",{key:0,ref_key:"imageRef",ref:r},null,512)):(Ot(),Ct("img",{key:1,src:o()},null,8,Ls))}});Rs.__file="src/components/AdvancedImage.vue";var Fs=Ue({__name:"AdvancedVideo",props:{cldVid:{type:null,required:!0},plugins:{type:null,required:!1},sources:{type:null,required:!1},cldPoster:{type:null,required:!1}},setup(e){const t=e,r=Ne(null);let i;return ze(()=>{i=new xs(r.value,t.cldVid,t.sources,t.plugins,void 0,t.cldPoster)}),Je(()=>{tt(i.htmlPluginState),i.update(t.cldVid,t.sources,t.plugins,void 0,t.cldPoster)}),He(()=>{tt(i.htmlPluginState)}),(o,a)=>(Ot(),Ct("video",{ref_key:"videoRef",ref:r},null,512))}});Fs.__file="src/components/AdvancedVideo.vue";function ks(e){return!(typeof e!="object"||e instanceof Array)}class Qs{filterOutNonSupportedKeys(t,r){const i=Object.create({});return ks(t)?(Object.keys(t).forEach(o=>{r.indexOf(o)>=0?i[o]=t[o]:console.warn("Warning - unsupported key provided to configuration: ",o)}),i):Object.create({})}}const Qe=["cname","secureDistribution","privateCdn","signUrl","longUrlSignature","shorten","useRootPath","secure","forceVersion","analytics","queryParams"];class It extends Qs{constructor(t){super();const r=this.filterOutNonSupportedKeys(t,Qe);Object.assign(this,{secure:!0},r)}extend(t){const r=this.filterOutNonSupportedKeys(t,Qe);return new It(Object.assign({},this,r))}setCname(t){return this.cname=t,this}setSecureDistribution(t){return this.secureDistribution=t,this}setPrivateCdn(t){return this.privateCdn=t,this}setSignUrl(t){return this.signUrl=t,this}setLongUrlSignature(t){return this.longUrlSignature=t,this}setShorten(t){return this.shorten=t,this}setUseRootPath(t){return this.useRootPath=t,this}setSecure(t){return this.secure=t,this}setForceVersion(t){return this.forceVersion=t,this}setQueryParams(t){return this.queryParams=t,this}}class B{constructor(t){this.values=[],this.delimiter=":",this.hasValue(t)&&this.addValue(t)}toString(){return this.values.join(this.delimiter)}hasValue(t){return typeof t<"u"&&t!==null&&t!==""}addValue(t){return Array.isArray(t)?this.values=this.values.concat(t):this.values.push(t),this.values=this.values.filter(r=>this.hasValue(r)),this}setDelimiter(t){return this.delimiter=t,this}}class Ds extends Error{constructor(t="Unsupported"){super(t)}}function qt(e){return new Ds(e)}function Is(){return this._qualifierModel||{error:qt(`unsupported qualifier ${this.constructor.name}`)}}class qs{constructor(){this._qualifierModel={}}toJson(){return Is.apply(this)}}class ct extends qs{constructor(t,r){super(),this.delimiter="_",this.key=t,r instanceof B?this.qualifierValue=r:(this.qualifierValue=new B,this.qualifierValue.addValue(r))}toString(){const{key:t,delimiter:r,qualifierValue:i}=this;return`${t}${r}${i.toString()}`}addValue(t){return this.qualifierValue.addValue(t),this}}class M extends ct{constructor(t,r){let i;r?i=new B([t,`${r}`]).setDelimiter(":"):i=t,super("fl",i),this.flagValue=r}toString(){return super.toString().replace(/\./,"%2E")}getFlagValue(){return this.flagValue}}function Bs(e,t){const r=Array.from(e.entries());return t.forEach(i=>{r.push(["fl",i])}),r.sort().map(i=>i[1])}function Gs(){var e,t,r;const i=this._actionModel&&Object.keys(this._actionModel).length,o=(r=(t=(e=this._actionModel)===null||e===void 0?void 0:e.source)===null||t===void 0?void 0:t.transformation)===null||r===void 0?void 0:r.error;return o&&o instanceof Error?{error:o}:i?this._actionModel:{error:qt(`unsupported action ${this.constructor.name}`)}}class Us{constructor(){this._actionModel={}}toJson(){return Gs.apply(this)}}class Bt extends Us{constructor(){super(...arguments),this.qualifiers=new Map,this.flags=[],this.delimiter=",",this.actionTag=""}prepareQualifiers(){}getActionTag(){return this.actionTag}setActionTag(t){return this.actionTag=t,this}toString(){return this.prepareQualifiers(),Bs(this.qualifiers,this.flags).join(this.delimiter)}addQualifier(t){if(typeof t=="string"){const[r,i]=t.toLowerCase().split("_");r==="fl"?this.flags.push(new M(i)):this.qualifiers.set(r,new ct(r,i))}else this.qualifiers.set(t.key,t);return this}addFlag(t){return typeof t=="string"?this.flags.push(new M(t)):t instanceof M&&this.flags.push(t),this}addValueToQualifier(t,r){return this.qualifiers.get(t).addValue(r),this}}function Ns(e){return e&&(e.match(/^#/)?`rgb:${e.substr(1)}`:e)}class zs extends Bt{constructor(t){super(),this._actionModel={},this.addQualifier(new ct("b",new B(Ns(t)).setDelimiter("_"))),this._actionModel.color=t,this._actionModel.actionType="backgroundColor"}static fromJson(t){const{color:r}=t;return new this(r)}}class De{constructor(t){this.raw=t}toString(){return this.raw}toJson(){return{error:qt(`unsupported action ${this.constructor.name}`)}}}function Js(e){const t=e;return"error"in t&&!!t.error}function Hs(){return new M("lossy")}function Ys(){return new M("preserve_transparency")}function Ks(e){return new M("progressive",e)}class Ws extends B{constructor(t){super(t),this.val=t}getValue(){return this.val}}function L(e){const t={};return Object.keys(e).forEach(r=>{t[e[r]]=r}),t}const Xs={limitFit:"limit",limitFill:"lfill",minimumFit:"mfit",thumbnail:"thumb",limitPad:"lpad",minimumPad:"mpad"},Zs={colorSpace:"cs",dpr:"dpr",density:"dn",defaultImage:"d",format:"f",quality:"q"},to={redEye:"redeye",advancedRedEye:"adv_redeye",oilPaint:"oil_paint",unsharpMask:"unsharp_mask",makeTransparent:"make_transparent",generativeRestore:"gen_restore",upscale:"upscale"},eo={autoBest:"auto:best",autoEco:"auto:eco",autoGood:"auto:good",autoLow:"auto:low",jpegminiHigh:"jpegmini:1",jpegminiMedium:"jpegmini:2",jpegminiBest:"jpegmini:0"},ro={fullHd:"full_hd",fullHdWifi:"full_hd_wifi",fullHdLean:"full_hd_lean",hdLean:"hd_lean"},no={444:"CHROMA_444",420:"CHROMA_420"},io={noCmyk:"no_cmyk",keepCmyk:"keep_cmyk",tinySrgb:"tinysrgb",srgbTrueColor:"srgb:truecolor"};L(no);L(io);L(Xs);const so=L(Zs);L(to);L(eo);L(ro);class oo extends Bt{constructor(t,r,i){super(),this._actionModel={};let o;r instanceof Ws?o=r.getValue():o=r,this._actionModel.actionType=so[t],this._actionModel[i]=o,this.addQualifier(new ct(t,r))}}class ao extends M{constructor(t){super("progressive",t)}}class et extends oo{constructor(t,r){super(t,r,"formatType")}lossy(){return this._actionModel.lossy=!0,this.addFlag(Hs()),this}progressive(t){return t instanceof ao?(this._actionModel.progressive={mode:t.getFlagValue()},this.addFlag(t)):(this._actionModel.progressive={mode:t},this.addFlag(Ks(t))),this}preserveTransparency(){return this._actionModel.preserveTransparency=!0,this.addFlag(Ys()),this}static fromJson(t){const{formatType:r,lossy:i,progressive:o,preserveTransparency:a}=t;let c;return r?c=new this("f",r):c=new this("f"),o&&(o.mode?c.progressive(o.mode):c.progressive()),i&&c.lossy(),a&&c.preserveTransparency(),c}}class lt{constructor(){this.actions=[]}addAction(t){let r;if(typeof t=="string"){if(t.indexOf("/")>=0)throw"addAction cannot accept a string with a forward slash in it - /, use .addTransformation() instead";r=new De(t)}else r=t;return this.actions.push(r),this}addTransformation(t){return t instanceof lt?this.actions=this.actions.concat(t.actions):this.actions.push(new De(t)),this}toString(){return this.actions.map(t=>t.toString()).filter(t=>t).join("/")}animated(t){return this.addAction(t)}border(t){return this.addAction(t)}reshape(t){return this.addAction(t)}resize(t){return this.addAction(t)}quality(t){return this.addAction(new et("q",t)),this}format(t){return this.addAction(new et("f",t)),this}roundCorners(t){return this.addAction(t)}overlay(t){return this.addAction(t)}underlay(t){return t.setLayerType("u"),this.addAction(t)}addVariable(t){return this.addAction(t)}conditional(t){return this.addAction(t)}effect(t){return this.addAction(t)}adjust(t){return this.addAction(t)}rotate(t){return this.addAction(t)}namedTransformation(t){return this.addAction(t)}delivery(t){return this.addAction(t)}backgroundColor(t){return this.addAction(new zs(t))}psdTools(t){return this.addAction(t)}extract(t){return this.addAction(t)}addFlag(t){const r=new Bt;let i=t;return typeof t=="string"&&(i=new M(t)),r.addQualifier(i),this.addAction(r)}customFunction(t){return this.addAction(t)}transcode(t){return this.addAction(t)}videoEdit(t){return this.addAction(t)}toJson(){const t=[];for(const r of this.actions){const i=r.toJson();if(Js(i))return i;t.push(i)}return{actions:t}}}class uo extends lt{}class co extends lt{}function lo(e){return e.match(/^https?:\//)}function ho(e){return e.indexOf("/")<0}function fo(e){return e.match(/^v[0-9]+/)}function po(e,t){const r=t.secure,i=t.privateCdn,o=t.cname,a=t.secureDistribution;return!r&&!o?`http://res.cloudinary.com/${e}`:r&&!a&&i?`https://${e}-res.cloudinary.com`:r&&!a?`https://res.cloudinary.com/${e}`:r&&a&&i?`https://${a}`:r&&a?`https://${a}/${e}`:!r&&o?`http://${o}/${e}`:"ERROR"}function go(e){return e||"image"}function _o(e){return e||"upload"}function mo(e,t,r){const i=r!==!1;return t?`v${t}`:fo(e)||lo(e)||ho(e)?"":i?"v1":""}function Gt(e,t,r){let i=t>>0,o=String(typeof r<"u"?r:" ");return e.length>i?String(e):(i=i-e.length,i>o.length&&(o+=yo(o,i/o.length)),o.slice(0,i)+String(e))}function yo(e,t){let r=t,i="";for(;r>0;)i+=e,r--;return i}const vo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",rt={};let Ie=0;vo.split("").forEach(e=>{let t=Ie.toString(2);t=Gt(t,6,"0"),rt[t]=e,Ie++});function wo(e){if(e.split(".").length<2)throw new Error("invalid semVer, must have at least two segments");return e.split(".").reverse().join(".")}function bo(e){if(e.split(".").length<2)throw new Error("invalid semVer, must have at least two segments");return e.split(".").map(t=>{const r=+t;if(isNaN(r)||r<0)throw"Invalid version number provided";return Gt(t,2,"0")}).join(".")}function qe(e){let t="";const i=e.split(".").length*6,o=wo(e),a=bo(o);let d=parseInt(a.split(".").join("")).toString(2);if(d=Gt(d,i,"0"),d.length%6!==0)throw"Version must be smaller than 43.21.26)";return d.match(/.{1,6}/g).forEach(p=>{t+=rt[p]}),t}function To(e){const t={sdkSemver:e.sdkSemver,techVersion:e.techVersion,sdkCode:e.sdkCode,product:e.product,feature:"0",osType:e.osType,osVersion:e.osVersion};return e.accessibility&&(t.feature="D"),e.lazyload&&(t.feature="C"),e.responsive&&(t.feature="A"),e.placeholder&&(t.feature="B"),t}const Ao="1.16.1";function So(e){const[t,r]=e.split("."),i=parseInt(t).toString(2),o=parseInt(r).toString(2),a=i.padStart(6,"0"),c=o.padStart(6,"0");return rt[a]+rt[c]}function Oo(){const e="0.0.0";if(typeof window<"u")return e;try{return process.versions.node||e}catch{return e}}function Co(e){const t={techVersion:Oo(),sdkCode:"T",sdkSemver:Ao.split("-")[0],product:"A",osType:"Z",osVersion:"0.0",responsive:!1,placeholder:!1,lazyload:!1,accessibility:!1};return e?Object.assign(Object.assign({},t),e):t}function Be(e){const t=Co(e),r=To(t);try{const i=Eo(r.techVersion),o=qe(r.sdkSemver),a=qe(i),c=So(r.osVersion),d=r.feature,p=r.sdkCode,{product:h,osType:g}=r;return`D${h}${p}${o}${a}${g}${c}${d}`}catch{return"E"}}function Eo(e){const t=e.split(".");return`${t[0]}.${t[1]}`}const Ge={"image/upload":"images","image/private":"private_images","image/authenticated":"authenticated_images","raw/upload":"files","video/upload":"videos"};class Mo{constructor(t,r={},i){this.setPublicID(t),this.setCloudConfig(r),this.setURLConfig(i)}setURLConfig(t){return this.urlConfig=new It(t),this}setCloudConfig(t){return this.cloudName=t.cloudName,this.apiKey=t.apiKey,this.apiSecret=t.apiSecret,this.authToken=t.authToken,this}setPublicID(t){return this.publicID=t?t.toString():"",this}setDeliveryType(t){return this.deliveryType=t,this}setSuffix(t){return this.suffix=t,this}setSignature(t){return this.signature=t,this}setVersion(t){return t&&(this.version=t),this}setAssetType(t){return t&&(this.assetType=t),this}sign(){return this}toURL(t={}){return this.createCloudinaryURL(null,t.trackedAnalytics)}validateAssetForURLCreation(){if(typeof this.cloudName>"u")throw"You must supply a cloudName when initializing the asset";const t=this.suffix&&this.suffix.indexOf(".")>=0,r=this.suffix&&this.suffix.indexOf("/")>=0;if(t||r)throw"`suffix`` should not include . or /"}getResourceType(){const t=go(this.assetType),r=_o(this.deliveryType),i=!!this.suffix,o=`${t}/${r}`,a=Ge[`${t}/${r}`],c=this.urlConfig.useRootPath,d=this.urlConfig.shorten;if(c){if(o==="image/upload")return"";throw new Error(`useRootPath can only be used with assetType: 'image' and deliveryType: 'upload'. Provided: ${o} instead`)}if(d&&o==="image/upload")return"iu";if(i){if(a)return a;throw new Error(`URL Suffix only supported for ${Object.keys(Ge).join(", ")}, Provided: ${o} instead`)}return o}getSignature(){return this.signature?`s--${this.signature}--`:""}createCloudinaryURL(t,r){if(!this.publicID)return"";this.validateAssetForURLCreation();const i=po(this.cloudName,this.urlConfig),o=t?t.toString():"",a=mo(this.publicID,this.version,this.urlConfig.forceVersion),c=this.publicID;if(typeof t=="string")return[i,this.getResourceType(),this.getSignature(),o,a,c.replace(/,/g,"%2C"),this.suffix].filter(p=>p).join("/");{const d=[encodeURI(i),this.getResourceType(),this.getSignature(),encodeURI(o),a,encodeURI(c).replace(/,/g,"%2C"),this.suffix&&encodeURI(this.suffix)].filter(g=>g).join("/").replace(/\?/g,"%3F").replace(/=/g,"%3D"),p=this.urlConfig.analytics!==!1&&!c.includes("?");let h="";if(typeof this.urlConfig.queryParams=="object")try{const g=new URLSearchParams(this.urlConfig.queryParams);p&&g.set("_a",Be(r)),h=g.toString()}catch{console.error("Error: URLSearchParams is not available so the queryParams object cannot be parsed, please try passing as an already parsed string")}else h=this.urlConfig.queryParams||"",p&&(h+=`${h.length>0?"&":""}_a=${Be(r)}`);return h?`${d}?${h}`:d}}}class xr extends Mo{constructor(t,r,i,o){super(t,r,i),this.transformation=o}animated(t){return this.transformation.animated(t),this}border(t){return this.transformation.border(t),this}reshape(t){return this.transformation.reshape(t),this}resize(t){return this.transformation.resize(t),this}quality(t){return this.addAction(new et("q",t)),this}format(t){return this.addAction(new et("f",t)),this}roundCorners(t){return this.transformation.roundCorners(t),this}overlay(t){return this.transformation.overlay(t),this}addVariable(t){return this.transformation.addVariable(t),this}conditional(t){return this.transformation.conditional(t),this}effect(t){return this.transformation.effect(t),this}adjust(t){return this.transformation.adjust(t),this}rotate(t){return this.transformation.rotate(t),this}namedTransformation(t){return this.transformation.namedTransformation(t),this}delivery(t){return this.transformation.delivery(t),this}backgroundColor(t){return this.transformation.backgroundColor(t),this}psdTools(t){return this.transformation.psdTools(t),this}extract(t){return this.transformation.extract(t),this}addFlag(t){return this.transformation.addFlag(t),this}customFunction(t){return this.transformation.customFunction(t),this}addAction(t){return this.transformation.addAction(t),this}addTransformation(t){return this.transformation.addTransformation(t),this}toString(){return this.transformation.toString()}underlay(t){return this.transformation.underlay(t),this}toURL(t={}){return this.createCloudinaryURL(this.transformation,t==null?void 0:t.trackedAnalytics)}}class xo extends xr{constructor(t,r,i){super(t,r,i,new uo)}}class $o extends xr{constructor(t,r,i){super(t,r,i,new co),this.assetType="video"}transcode(t){return this.transformation.transcode(t),this}videoEdit(t){return this.transformation.videoEdit(t),this}}class No{constructor(t){t&&(this.cloudinaryConfig=t)}image(t){return new xo(t,this.cloudinaryConfig.cloud,this.cloudinaryConfig.url)}video(t){return new $o(t,this.cloudinaryConfig.cloud,this.cloudinaryConfig.url)}setConfig(t){return this.cloudinaryConfig=t,this}getConfig(){return this.cloudinaryConfig}extendConfig(){}}export{No as C,Rs as s};
